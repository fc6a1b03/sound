<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>音乐</title>
    <link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
    <div class="header">
        <div class="search-bar">
            <select id="search-type">
                <option value="keyword">关键词</option>
                <option value="mid">MID</option>
            </select>
            <input type="text" id="search-input" placeholder="输入关键词或MID" onkeypress="handleKeyPress(event)">
            <button onclick="searchSongs()">搜索</button>
        </div>
        <div class="settings">
            <button onclick="openSettingsModal()">设置</button>
        </div>
    </div>
    <div class="container">
        <div class="song-list" id="song-list"></div>
        <div class="player" id="player">
            <div class="song-info" id="song-info">暂无播放内容</div>
            <audio id="audio-player" controls></audio>
        </div>
    </div>
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <h2>设置</h2>
            <label>
                在线播放默认音质:
                <select id="default-play-quality">
                    <option value="14">母带 (q=14)</option>
                    <option value="11">无损 (q=11)</option>
                    <option value="8">高 (q=8)</option>
                    <option value="4" selected>标准 (q=4)</option>
                    <option value="2">低 (q=2)</option>
                </select>
            </label>
            <label>
                下载默认音质:
                <select id="default-download-quality">
                    <option value="14">母带 (q=14)</option>
                    <option value="11">无损 (q=11)</option>
                    <option value="8">高 (q=8)</option>
                    <option value="4" selected>标准 (q=4)</option>
                    <option value="2">低 (q=2)</option>
                </select>
            </label>
            <div>
                <button class="primary" onclick="saveSettings()">确定</button>
                <button class="secondary" onclick="closeSettingsModal()">取消</button>
            </div>
        </div>
    </div>
    <div id="download-modal" class="modal">
        <div class="modal-content">
            <h2>选择下载音质</h2>
            <label>
                <input type="radio" name="download-quality" value="14">
                母带 (q=14)
            </label>
            <label>
                <input type="radio" name="download-quality" value="11">
                无损 (q=11)
            </label>
            <label>
                <input type="radio" name="download-quality" value="8">
                高 (q=8)
            </label>
            <label>
                <input type="radio" name="download-quality" value="4">
                标准 (q=4)
            </label>
            <label>
                <input type="radio" name="download-quality" value="2">
                低 (q=2)
            </label>
            <label>
                自定义音质级别:
                <input type="number" id="custom-quality" min="1" max="14">
            </label>
            <div>
                <button class="primary" onclick="downloadSelectedQuality()">下载</button>
                <button class="secondary" onclick="closeDownloadModal()">取消</button>
            </div>
        </div>
    </div>
    <div id="empty-url-modal" class="modal">
        <div class="modal-content">
            <h2>URL 为空</h2>
            <p>无法播放或下载，歌曲 URL 为空。可以尝试刷新页面后重试。</p>
            <div>
                <button class="secondary" onclick="closeEmptyUrlModal()">取消</button>
                <button class="primary" onclick="refreshPage()">刷新页面</button>
            </div>
        </div>
    </div>
</body>
<script src="index.js" defer></script>
</html>
